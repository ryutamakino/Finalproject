<html>
<head>

<style>

</style>
</head>
<body>

<form id="form" onsubmit="return false;">

    Question: <br>
    <input type="text" class ="inputtext" id = "question1" ></br>

    Choice: <br>
    <input type="text" class ="inputtext" id="userInput2" /><br>

    Choice: <br>
    <input type="text" class ="inputtext" id="userInput3" /><br>

    Choice: <br>
    <input type="text" class ="inputtext" id="userInput4" /><br>

    <input type="Submit" onclick="createform();" />

    <input type ="button" value = "Add" onclick = "add();" />


<div id ="Preview">

</div>

<div id="radio_home"></div>
<div id="radio_2"></div>
<div id= "radio_3"></div>

    

</form>

<div id = "submit2"></div>
                                
<div id="piechart" style="width: 900px; height: 500px;"></div>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
<script>


function createform() {
$(document).ready(function(){

var input = document.getElementById("question1").value;
    console.log(input);

    var input2 = document.getElementById("userInput2").value;
    console.log(input2);

    var input3 = document.getElementById("userInput3").value;
    console.log(input3);

    var input4 = document.getElementById("userInput4").value;
    console.log(input4);

var radio_home = document.getElementById("radio_home");
var radio_2 = document.getElementById("radio_2");
var radio_3 = document.getElementById("radio_3")

  function makeRadioButton(name, value, text,id) {

    var label = document.createElement("label");
    var radio = document.createElement("input");
    radio.type = "radio";
    radio.name = name;
    radio.value = value;
    radio.id = id;

    label.appendChild(radio);

    label.appendChild(document.createTextNode(text));
    return label;
  }

  var radio1 = makeRadioButton("input2", "input2", input2,"input2");
  radio_home.appendChild(radio1);
  var radio2 = makeRadioButton("input3", "input3", input3,"input3");
  radio_2.appendChild(radio2);
  var radio3 = makeRadioButton("input4", "input4", input4,"input4");
  radio_3.appendChild(radio3);
  
    document.getElementById('Preview').innerHTML += "Question: " + input 
    // Jquery test code in textcode.html

    var vote = document.createElement("INPUT")
    vote.setAttribute("type","submit")
    vote.onclick = function(){voting();};
    submit2.appendChild(vote)

        google.charts.load('current', {'packages':['corechart']});
        var x = 0
        var y = 0
        var z = 0
        
    function voting(){



        if($('input:radio:checked').length > 0){

            if($('#input2').is(':checked')){

                alert("radio 1 checked")
                 x++;
                
            }
else if($('#input3').is(':checked')){

    alert("radio 2 checked")
    y++;
}
else if($('#input4').is(':checked')){

    alert("radio 3 is checked")
    z++
}
    
 }else{
    alert("nigga pls")
 }
google.charts.setOnLoadCallback(drawChart);
                function drawChart() {

        var data = google.visualization.arrayToDataTable([
          ['Task', 'Hours per Day'],
          [input2,     x],
          [input3,      y],
          [input4,  z]
        ]);


        var options = {
          title: input
        };

        var chart = new google.visualization.PieChart(document.getElementById('piechart'));

        chart.draw(data, options);
}
 }


     
      


    })



}

function add(){
    var dummy = '<span>Choice: <input type = "text" class = "inputtext"></span>\r\n';

    document.getElementById('form').innerHTML += dummy
}





  

    

      
     

</script>
</body>
</html>